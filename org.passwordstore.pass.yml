app-id: org.passwordstore.pass
runtime: org.freedesktop.Platform
runtime-version: "24.08"
sdk: org.freedesktop.Sdk
command: pass
finish-args:
  - --share=network
  - --filesystem=host
modules:
  - name: pass
    buildsystem: simple
    build-commands:
      - make
      - make install PREFIX=/app
    sources:
      - type: archive
        url: https://git.zx2c4.com/password-store/snapshot/password-store-1.7.4.tar.xz
        sha256: cfa9faf659f2ed6b38e7a7c3fb43e177d00edbacc6265e6e32215ff40e3793c0

  - name: pass-otp
    buildsystem: simple
    build-commands:
      - make
      - |
        make install PREFIX=/app \
                    MANDIR=/app/share/man \
                    BASHCOMPDIR=/app/share/bash-completion/completions
    sources:
      - type: archive
        url: https://github.com/tadfisher/pass-otp/releases/download/v1.2.0/pass-otp-1.2.0.tar.gz
        sha256: 5720a649267a240a4f7ba5a6445193481070049c1d08ba38b00d20fc551c3a67

  - name: pass-update
    buildsystem: simple
    build-commands:
      - make
      - make install PREFIX=/app
    sources:
      - type: archive
        url: https://github.com/roddhjav/pass-update/releases/download/v2.2.1/pass-update-2.2.1.tar.gz
        sha256: d0b0e1b561539847a2ee9ad7ea25c08f8d073abd632b634ce0c6bdf0fc6a7249
